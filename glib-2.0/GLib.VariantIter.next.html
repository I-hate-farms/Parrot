<?xml version="1.0" encoding="utf-8"?>
<html>
  <head>
    <meta charset="UTF-8"/>
    <title>GLib.VariantIter.next &ndash; glib-2.0 &ndash; Vala Binding Reference</title>
    <link href="../style.css" rel="stylesheet" type="text/css"/><script src="../scripts.js" type="text/javascript">
    </script>
  </head>
  <body>
    <div class="site_header">GLib.VariantIter.next &ndash; glib-2.0 Reference Manual</div>
    <div class="site_body">
      <div class="site_navigation">
        <ul class="navi_main">
          <li class="package_index"><a href="../index.html">Packages</a></li>
        </ul>
        <hr class="navi_hr"/>
        <ul class="navi_main">
          <li class="package"><a href="index.htm">glib-2.0</a></li>
        </ul>
        <hr class="navi_hr"/>
        <ul class="navi_main">
          <li class="namespace"><a href="GLib.html">GLib</a></li>
        </ul>
        <hr class="navi_hr"/>
        <ul class="navi_main">
          <li class="class"><a href="GLib.VariantIter.html">VariantIter</a></li>
        </ul>
        <hr class="navi_hr"/>
        <ul class="navi_main">
          <li class="creation_method"><a href="GLib.VariantIter.VariantIter.html">VariantIter</a></li>
          <li class="method"><a href="GLib.VariantIter.n_children.html">n_children</a></li>
          <li class="method">next</li>
          <li class="method"><a href="GLib.VariantIter.next_value.html">next_value</a></li>
        </ul>
      </div>
      <div class="site_content">
        <h1 class="main_title">next</h1>
        <hr class="main_hr"/>
        <h2 class="main_title">Description:</h2>
        <div class="main_code_definition"><span class="main_keyword">public</span> <span class="main_basic_type"><a href="bool.html" class="struct">bool</a></span> <b><span class="method">next</span></b> (<span class="main_basic_type"><a href="string.html" class="class">string</a></span> format_string, ...)
        </div>
        <div class="description">
          <p>Gets the next item in the container and unpacks it into the variable argument list according to <code>format_string</code>, returning 
            <span class="main_optional_parameter">true</span>.</p>
          <p>If no more items remain then <span class="main_optional_parameter">false</span> is returned.</p>
          <p>All of the pointers given on the variable arguments list of this function are assumed to point at uninitialised memory. It is the 
            responsibility of the caller to free all of the values returned by the unpacking process.</p>
          <p>Here is an example for memory management with <span class="method">next</span>: <pre class="main_source">  // Iterates a dictionary of type 'a{sv}'<br/>  void<br/>  iterate_dictionary (GVariant *dictionary)<br/>  {<br/>    GVariantIter iter;<br/>    GVariant *value;<br/>    gchar *key;<br/><br/>    g_variant_iter_init (&amp;iter, dictionary);<br/>    while (g_variant_iter_next (&amp;iter, "{sv}", &amp;key, &amp;value))<br/>      {<br/>        g_print ("Item '%s' has type '%s'\n", key,<br/>                 g_variant_get_type_string (value));<br/><br/>        // must free data for ourselves<br/>        g_variant_unref (value);<br/>        g_free (key);<br/>      }<br/>  }</pre>
          </p>
          <p>For a solution that is likely to be more convenient to C programmers when dealing with loops, see <code>g_variant_iter_loop</code>.</p>
          <p><code>format_string</code> determines the C types that are used for unpacking the values and also determines if the values are copied or 
            borrowed.</p>
          <p>See the section on <i>GVariant format strings</i>.</p>
          <h2 class="main_title">Parameters:</h2>
          <table class="main_parameter_table">
            <tr>
              <td class="main_parameter_table_name">this</td>
              <td>
                <p>a <a href="GLib.VariantIter.html" class="class">VariantIter</a></p>
              </td>
            </tr>
            <tr>
              <td class="main_parameter_table_name">format_string</td>
              <td>
                <p>a GVariant format string</p>
              </td>
            </tr>
            <tr>
              <td class="main_parameter_table_name">...</td>
              <td>
                <p>the arguments to unpack the value into</p>
              </td>
            </tr>
          </table>
          <h2 class="main_title">Returns:</h2>
          <table class="main_parameter_table">
            <tr>
              <td>
                <p><span class="main_optional_parameter">true</span> if a value was unpacked, or <span class="main_optional_parameter">false</span> if
                   there as no value</p>
              </td>
            </tr>
          </table>
        </div>
      </div>
    </div><br/>
    <div class="site_footer">Generated by <a href="http://www.valadoc.org/">Valadoc</a>
    </div>
  </body>
</html>