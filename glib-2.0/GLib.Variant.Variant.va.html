<?xml version="1.0" encoding="utf-8"?>
<html>
  <head>
    <meta charset="UTF-8"/>
    <title>GLib.Variant.Variant.va &ndash; glib-2.0 &ndash; Vala Binding Reference</title>
    <link href="../style.css" rel="stylesheet" type="text/css"/><script src="../scripts.js" type="text/javascript">
    </script>
  </head>
  <body>
    <div class="site_header">GLib.Variant.Variant.va &ndash; glib-2.0 Reference Manual</div>
    <div class="site_body">
      <div class="site_navigation">
        <ul class="navi_main">
          <li class="package_index"><a href="../index.html">Packages</a></li>
        </ul>
        <hr class="navi_hr"/>
        <ul class="navi_main">
          <li class="package"><a href="index.htm">glib-2.0</a></li>
        </ul>
        <hr class="navi_hr"/>
        <ul class="navi_main">
          <li class="namespace"><a href="GLib.html">GLib</a></li>
        </ul>
        <hr class="navi_hr"/>
        <ul class="navi_main">
          <li class="class"><a href="GLib.Variant.html">Variant</a></li>
        </ul>
        <hr class="navi_hr"/>
        <ul class="navi_main">
          <li class="enum"><a href="GLib.Variant.Class.html">Class</a></li>
          <li class="static_method"><a href="GLib.Variant.is_object_path.html">is_object_path</a></li>
          <li class="static_method"><a href="GLib.Variant.is_signature.html">is_signature</a></li>
          <li class="static_method"><a href="GLib.Variant.new_fixed_array.html">new_fixed_array</a></li>
          <li class="static_method"><a href="GLib.Variant.new_from_data.html">new_from_data</a></li>
          <li class="static_method"><a href="GLib.Variant.parse.html">parse</a></li>
          <li class="static_method"><a href="GLib.Variant.parse_error_print_context.html">parse_error_print_context</a></li>
          <li class="creation_method"><a href="GLib.Variant.Variant.html">Variant</a></li>
          <li class="creation_method"><a href="GLib.Variant.Variant.array.html">Variant.array</a></li>
          <li class="creation_method"><a href="GLib.Variant.Variant.boolean.html">Variant.boolean</a></li>
          <li class="creation_method"><a href="GLib.Variant.Variant.byte.html">Variant.byte</a></li>
          <li class="creation_method"><a href="GLib.Variant.Variant.bytestring.html">Variant.bytestring</a></li>
          <li class="creation_method"><a href="GLib.Variant.Variant.bytestring_array.html">Variant.bytestring_array</a></li>
          <li class="creation_method"><a href="GLib.Variant.Variant.dict_entry.html">Variant.dict_entry</a></li>
          <li class="creation_method"><a href="GLib.Variant.Variant.double.html">Variant.double</a></li>
          <li class="creation_method"><a href="GLib.Variant.Variant.from_bytes.html">Variant.from_bytes</a></li>
          <li class="creation_method"><a href="GLib.Variant.Variant.handle.html">Variant.handle</a></li>
          <li class="creation_method"><a href="GLib.Variant.Variant.int16.html">Variant.int16</a></li>
          <li class="creation_method"><a href="GLib.Variant.Variant.int32.html">Variant.int32</a></li>
          <li class="creation_method"><a href="GLib.Variant.Variant.int64.html">Variant.int64</a></li>
          <li class="creation_method"><a href="GLib.Variant.Variant.maybe.html">Variant.maybe</a></li>
          <li class="creation_method"><a href="GLib.Variant.Variant.object_path.html">Variant.object_path</a></li>
          <li class="creation_method"><a href="GLib.Variant.Variant.parsed.html">Variant.parsed</a></li>
          <li class="creation_method"><a href="GLib.Variant.Variant.printf.html">Variant.printf</a></li>
          <li class="creation_method"><a href="GLib.Variant.Variant.signature.html">Variant.signature</a></li>
          <li class="creation_method"><a href="GLib.Variant.Variant.string.html">Variant.string</a></li>
          <li class="creation_method"><a href="GLib.Variant.Variant.strv.html">Variant.strv</a></li>
          <li class="creation_method"><a href="GLib.Variant.Variant.take_string.html">Variant.take_string</a></li>
          <li class="creation_method"><a href="GLib.Variant.Variant.tuple.html">Variant.tuple</a></li>
          <li class="creation_method"><a href="GLib.Variant.Variant.uint16.html">Variant.uint16</a></li>
          <li class="creation_method"><a href="GLib.Variant.Variant.uint32.html">Variant.uint32</a></li>
          <li class="creation_method"><a href="GLib.Variant.Variant.uint64.html">Variant.uint64</a></li>
          <li class="creation_method">Variant.va</li>
          <li class="creation_method"><a href="GLib.Variant.Variant.variant.html">Variant.variant</a></li>
          <li class="method"><a href="GLib.Variant.@get.html">@get</a></li>
          <li class="method"><a href="GLib.Variant.byteswap.html">byteswap</a></li>
          <li class="method"><a href="GLib.Variant.check_format_string.html">check_format_string</a></li>
          <li class="method"><a href="GLib.Variant.classify.html">classify</a></li>
          <li class="method"><a href="GLib.Variant.compare.html">compare</a></li>
          <li class="method"><a href="GLib.Variant.dup_bytestring.html">dup_bytestring</a></li>
          <li class="method"><a href="GLib.Variant.dup_bytestring_array.html">dup_bytestring_array</a></li>
          <li class="method"><a href="GLib.Variant.dup_string.html">dup_string</a></li>
          <li class="method"><a href="GLib.Variant.dup_strv.html">dup_strv</a></li>
          <li class="method"><a href="GLib.Variant.equal.html">equal</a></li>
          <li class="method"><a href="GLib.Variant.get_boolean.html">get_boolean</a></li>
          <li class="method"><a href="GLib.Variant.get_byte.html">get_byte</a></li>
          <li class="method"><a href="GLib.Variant.get_bytestring.html">get_bytestring</a></li>
          <li class="method"><a href="GLib.Variant.get_bytestring_array.html">get_bytestring_array</a></li>
          <li class="method"><a href="GLib.Variant.get_child.html">get_child</a></li>
          <li class="method"><a href="GLib.Variant.get_child_value.html">get_child_value</a></li>
          <li class="method"><a href="GLib.Variant.get_data.html">get_data</a></li>
          <li class="method"><a href="GLib.Variant.get_data_as_bytes.html">get_data_as_bytes</a></li>
          <li class="method"><a href="GLib.Variant.get_double.html">get_double</a></li>
          <li class="method"><a href="GLib.Variant.get_handle.html">get_handle</a></li>
          <li class="method"><a href="GLib.Variant.get_int16.html">get_int16</a></li>
          <li class="method"><a href="GLib.Variant.get_int32.html">get_int32</a></li>
          <li class="method"><a href="GLib.Variant.get_int64.html">get_int64</a></li>
          <li class="method"><a href="GLib.Variant.get_maybe.html">get_maybe</a></li>
          <li class="method"><a href="GLib.Variant.get_normal_form.html">get_normal_form</a></li>
          <li class="method"><a href="GLib.Variant.get_size.html">get_size</a></li>
          <li class="method"><a href="GLib.Variant.get_string.html">get_string</a></li>
          <li class="method"><a href="GLib.Variant.get_strv.html">get_strv</a></li>
          <li class="method"><a href="GLib.Variant.get_type.html">get_type</a></li>
          <li class="method"><a href="GLib.Variant.get_type_string.html">get_type_string</a></li>
          <li class="method"><a href="GLib.Variant.get_uint16.html">get_uint16</a></li>
          <li class="method"><a href="GLib.Variant.get_uint32.html">get_uint32</a></li>
          <li class="method"><a href="GLib.Variant.get_uint64.html">get_uint64</a></li>
          <li class="method"><a href="GLib.Variant.get_va.html">get_va</a></li>
          <li class="method"><a href="GLib.Variant.get_variant.html">get_variant</a></li>
          <li class="method"><a href="GLib.Variant.hash.html">hash</a></li>
          <li class="method"><a href="GLib.Variant.is_container.html">is_container</a></li>
          <li class="method"><a href="GLib.Variant.is_floating.html">is_floating</a></li>
          <li class="method"><a href="GLib.Variant.is_normal_form.html">is_normal_form</a></li>
          <li class="method"><a href="GLib.Variant.is_of_type.html">is_of_type</a></li>
          <li class="method"><a href="GLib.Variant.iterator.html">iterator</a></li>
          <li class="method"><a href="GLib.Variant.lookup.html">lookup</a></li>
          <li class="method"><a href="GLib.Variant.lookup_value.html">lookup_value</a></li>
          <li class="method"><a href="GLib.Variant.n_children.html">n_children</a></li>
          <li class="method"><a href="GLib.Variant.print.html">print</a></li>
          <li class="method"><a href="GLib.Variant.print_string.html">print_string</a></li>
          <li class="method"><a href="GLib.Variant.store.html">store</a></li>
        </ul>
      </div>
      <div class="site_content">
        <h1 class="main_title">Variant.va</h1>
        <hr class="main_hr"/>
        <h2 class="main_title">Description:</h2>
        <div class="main_code_definition"><span class="main_keyword">public</span> <b><span class="creation_method">Variant.va</span></b> (<span class="main_basic_type"><a href="string.html" class="class">string</a></span> format, <span class="main_basic_type"><a href="char.html" class="struct">char</a></span>** end_ptr, <span class="main_type"><a href="va_list.html" class="struct">va_list</a></span>* app)
        </div>
        <div class="description">
          <p>This function is intended to be used by libraries based on <a href="GLib.Variant.html" class="class">Variant</a> that want to provide 
            <a href="GLib.Variant.Variant.html" class="creation_method">Variant</a>-like functionality to their users.</p>
          <p>The API is more general than <a href="GLib.Variant.Variant.html" class="creation_method">Variant</a> to allow a wider range of possible 
            uses.</p>
          <p><code>format_string</code> must still point to a valid format string, but it only needs to be nul-terminated if <code>endptr</code> is 
            <span class="main_optional_parameter">null</span>. If <code>endptr</code> is non-<span class="main_optional_parameter">null</span> then it
             is updated to point to the first character past the end of the format string.</p>
          <p><code>app</code> is a pointer to a <a href="va_list.html" class="struct">va_list</a>. The arguments, according to <code>format_string
            </code>, are collected from this <a href="va_list.html" class="struct">va_list</a> and the list is left pointing to the argument following
             the last.</p>
          <p>Note that the arguments in <code>app</code> must be of the correct width for their types specified in <code>format_string</code> when 
            collected into the <a href="va_list.html" class="struct">va_list</a>. See the [GVariant varargs documentation][gvariant-varargs.</p>
          <p>These two generalisations allow mixing of multiple calls to <span class="creation_method">Variant.va</span> and 
            <a href="GLib.Variant.get_va.html" class="method">get_va</a> within a single actual varargs call by the user.</p>
          <p>The return value will be floating if it was a newly created GVariant instance (for example, if the format string was "(ii)"). In the case
             that the format_string was '*', '?', 'r', or a format starting with '@' then the collected <a href="GLib.Variant.html" class="class">
              Variant</a> pointer will be returned unmodified, without adding any additional references.</p>
          <p>In order to behave correctly in all cases it is necessary for the calling function to <code>g_variant_ref_sink</code> the return result 
            before returning control to the user that originally provided the pointer. At this point, the caller will have their own full reference to
             the result. This can also be done by adding the result to a container, or by passing it to another 
            <a href="GLib.Variant.Variant.html" class="creation_method">Variant</a> call.</p>
          <h2 class="main_title">Parameters:</h2>
          <table class="main_parameter_table">
            <tr>
              <td class="main_parameter_table_name">app</td>
              <td>
                <p>a pointer to a <a href="va_list.html" class="struct">va_list</a></p>
              </td>
            </tr>
            <tr class="main_parameter_table_unknown_parameter">
              <td class="main_parameter_table_name">endptr</td>
              <td>
                <p>location to store the end pointer,  or <span class="main_optional_parameter">null</span></p>
              </td>
            </tr>
            <tr class="main_parameter_table_unknown_parameter">
              <td class="main_parameter_table_name">format_string</td>
              <td>
                <p>a string that is prefixed with a format string</p>
              </td>
            </tr>
          </table>
          <h2 class="main_title">Returns:</h2>
          <table class="main_parameter_table">
            <tr>
              <td>
                <p>a new, usually floating, <a href="GLib.Variant.html" class="class">Variant</a></p>
              </td>
            </tr>
          </table>
        </div>
      </div>
    </div><br/>
    <div class="site_footer">Generated by <a href="http://www.valadoc.org/">Valadoc</a>
    </div>
  </body>
</html>