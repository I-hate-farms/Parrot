<?xml version="1.0" encoding="utf-8"?>
<html>
  <head>
    <meta charset="UTF-8"/>
    <title>GLib.Environment.atexit &ndash; glib-2.0 &ndash; Vala Binding Reference</title>
    <link href="../style.css" rel="stylesheet" type="text/css"/><script src="../scripts.js" type="text/javascript">
    </script>
  </head>
  <body>
    <div class="site_header">GLib.Environment.atexit &ndash; glib-2.0 Reference Manual</div>
    <div class="site_body">
      <div class="site_navigation">
        <ul class="navi_main">
          <li class="package_index"><a href="../index.html">Packages</a></li>
        </ul>
        <hr class="navi_hr"/>
        <ul class="navi_main">
          <li class="package"><a href="index.htm">glib-2.0</a></li>
        </ul>
        <hr class="navi_hr"/>
        <ul class="navi_main">
          <li class="namespace"><a href="GLib.html">GLib</a></li>
        </ul>
        <hr class="navi_hr"/>
        <ul class="navi_main">
          <li class="namespace"><a href="GLib.Environment.html">Environment</a></li>
        </ul>
        <hr class="navi_hr"/>
        <ul class="navi_main">
          <li class="method"><span class="deprecated">atexit</span></li>
          <li class="method"><a href="GLib.Environment.find_program_in_path.html">find_program_in_path</a></li>
          <li class="method"><a href="GLib.Environment.get_application_name.html">get_application_name</a></li>
          <li class="method"><a href="GLib.Environment.get_current_dir.html">get_current_dir</a></li>
          <li class="method"><a href="GLib.Environment.get_home_dir.html">get_home_dir</a></li>
          <li class="method"><a href="GLib.Environment.get_host_name.html">get_host_name</a></li>
          <li class="method"><a href="GLib.Environment.get_prgname.html">get_prgname</a></li>
          <li class="method"><a href="GLib.Environment.get_real_name.html">get_real_name</a></li>
          <li class="method"><a href="GLib.Environment.get_system_config_dirs.html">get_system_config_dirs</a></li>
          <li class="method"><a href="GLib.Environment.get_system_data_dirs.html">get_system_data_dirs</a></li>
          <li class="method"><a href="GLib.Environment.get_tmp_dir.html">get_tmp_dir</a></li>
          <li class="method"><a href="GLib.Environment.get_user_cache_dir.html">get_user_cache_dir</a></li>
          <li class="method"><a href="GLib.Environment.get_user_config_dir.html">get_user_config_dir</a></li>
          <li class="method"><a href="GLib.Environment.get_user_data_dir.html">get_user_data_dir</a></li>
          <li class="method"><a href="GLib.Environment.get_user_name.html">get_user_name</a></li>
          <li class="method"><a href="GLib.Environment.get_user_special_dir.html">get_user_special_dir</a></li>
          <li class="method"><a href="GLib.Environment.get_variable.html">get_variable</a></li>
          <li class="method"><a href="GLib.Environment.list_variables.html">list_variables</a></li>
          <li class="method"><a href="GLib.Environment.set_application_name.html">set_application_name</a></li>
          <li class="method"><a href="GLib.Environment.set_current_dir.html">set_current_dir</a></li>
          <li class="method"><a href="GLib.Environment.set_prgname.html">set_prgname</a></li>
          <li class="method"><a href="GLib.Environment.set_variable.html">set_variable</a></li>
          <li class="method"><a href="GLib.Environment.unset_variable.html">unset_variable</a></li>
        </ul>
      </div>
      <div class="site_content">
        <h1 class="main_title">atexit</h1>
        <hr class="main_hr"/>
        <h2 class="main_title">Description:</h2>
        <div class="main_code_definition">[ <span class="main_type">Deprecated</span> ( since = <span class="main_optional_parameter">"2.32"</span> ) ]<br/><span class="main_keyword">public</span> <span class="main_keyword">void</span> <b><span class="method">atexit</span></b> (<span class="main_type"><a href="GLib.VoidFunc.html" class="delegate">VoidFunc</a></span> func)
        </div>
        <div class="description">
          <p><b>Warning:</b> atexit is deprecated.</p>
          <p>Specifies a function to be called at normal program termination.</p>
          <div class="main_notification_block"><span class="main_block_headline">Note:</span> 
            <div class="main_block_content">
              <p>It is best to avoid <span class="method">atexit</span>.</p>
            </div>
          </div>
          <p>Since GLib 2.8.2, on Windows <span class="method">atexit</span> actually is a preprocessor macro that maps to a call to the <code>atexit
            </code> function in the C library. This means that in case the code that calls <span class="method">atexit</span>, i.e. <code>atexit
            </code>, is in a DLL, the function will be called when the DLL is detached from the program. This typically makes more sense than that the
             function is called when the GLib DLL is detached, which happened earlier when <span class="method">atexit</span> was a function in the 
            GLib DLL.</p>
          <p>The behaviour of <code>atexit</code> in the context of dynamically loaded modules is not formally specified and varies wildly.</p>
          <p>On POSIX systems, calling <span class="method">atexit</span> (or <code>atexit</code>) in a dynamically loaded module which is unloaded 
            before the program terminates might well cause a crash at program exit.</p>
          <p>Some POSIX systems implement <code>atexit</code> like Windows, and have each dynamically loaded module maintain an own atexit chain that 
            is called when the module is unloaded.</p>
          <p>On other POSIX systems, before a dynamically loaded module is unloaded, the registered atexit functions (if any) residing in that module 
            are called, regardless where the code that registered them resided. This is presumably the most robust approach.</p>
          <p>As can be seen from the above, for portability it's best to avoid calling <span class="method">atexit</span> (or <code>atexit</code>) 
            except in the main executable of a program.</p>
          <h2 class="main_title">Parameters:</h2>
          <table class="main_parameter_table">
            <tr>
              <td class="main_parameter_table_name">func</td>
              <td>
                <p>the function to call on normal program termination.</p>
              </td>
            </tr>
          </table>
        </div><br/>
        <div class="namespace_note"><b>Namespace:</b> <a href="GLib.Environment.html">GLib.Environment</a>
        </div>
        <div class="package_note"><b>Package:</b> <a href="index.htm">glib-2.0</a>
        </div>
      </div>
    </div><br/>
    <div class="site_footer">Generated by <a href="http://www.valadoc.org/">Valadoc</a>
    </div>
  </body>
</html>