<?xml version="1.0" encoding="utf-8"?>
<html>
  <head>
    <meta charset="UTF-8"/>
    <title>GLib.Application.add_main_option_entries &ndash; gio-2.0 &ndash; Vala Binding Reference</title>
    <link href="../style.css" rel="stylesheet" type="text/css"/><script src="../scripts.js" type="text/javascript">
    </script>
  </head>
  <body>
    <div class="site_header">GLib.Application.add_main_option_entries &ndash; gio-2.0 Reference Manual</div>
    <div class="site_body">
      <div class="site_navigation">
        <ul class="navi_main">
          <li class="package_index"><a href="../index.html">Packages</a></li>
        </ul>
        <hr class="navi_hr"/>
        <ul class="navi_main">
          <li class="package"><a href="index.htm">gio-2.0</a></li>
        </ul>
        <hr class="navi_hr"/>
        <ul class="navi_main">
          <li class="namespace"><a href="GLib.html">GLib</a></li>
        </ul>
        <hr class="navi_hr"/>
        <ul class="navi_main">
          <li class="class"><a href="GLib.Application.html">Application</a></li>
        </ul>
        <hr class="navi_hr"/>
        <ul class="navi_main">
          <li class="property"><a href="GLib.Application.action_group.html">action_group</a></li>
          <li class="property"><a href="GLib.Application.application_id.html">application_id</a></li>
          <li class="property"><a href="GLib.Application.flags.html">flags</a></li>
          <li class="property"><a href="GLib.Application.inactivity_timeout.html">inactivity_timeout</a></li>
          <li class="property"><a href="GLib.Application.is_busy.html">is_busy</a></li>
          <li class="property"><a href="GLib.Application.is_registered.html">is_registered</a></li>
          <li class="property"><a href="GLib.Application.is_remote.html">is_remote</a></li>
          <li class="property"><a href="GLib.Application.resource_base_path.html">resource_base_path</a></li>
          <li class="static_method"><a href="GLib.Application.get_default.html">get_default</a></li>
          <li class="static_method"><a href="GLib.Application.id_is_valid.html">id_is_valid</a></li>
          <li class="creation_method"><a href="GLib.Application.Application.html">Application</a></li>
          <li class="method"><a href="GLib.Application.add_main_option.html">add_main_option</a></li>
          <li class="method">add_main_option_entries</li>
          <li class="method"><a href="GLib.Application.add_option_group.html">add_option_group</a></li>
          <li class="virtual_method"><a href="GLib.Application.add_platform_data.html">add_platform_data</a></li>
          <li class="virtual_method"><a href="GLib.Application.after_emit.html">after_emit</a></li>
          <li class="virtual_method"><a href="GLib.Application.before_emit.html">before_emit</a></li>
          <li class="method"><a href="GLib.Application.bind_busy_property.html">bind_busy_property</a></li>
          <li class="virtual_method"><a href="GLib.Application.dbus_register.html">dbus_register</a></li>
          <li class="virtual_method"><a href="GLib.Application.dbus_unregister.html">dbus_unregister</a></li>
          <li class="method"><a href="GLib.Application.get_application_id.html">get_application_id</a></li>
          <li class="method"><a href="GLib.Application.get_dbus_connection.html">get_dbus_connection</a></li>
          <li class="method"><a href="GLib.Application.get_dbus_object_path.html">get_dbus_object_path</a></li>
          <li class="method"><a href="GLib.Application.get_flags.html">get_flags</a></li>
          <li class="method"><a href="GLib.Application.get_inactivity_timeout.html">get_inactivity_timeout</a></li>
          <li class="method"><a href="GLib.Application.get_is_busy.html">get_is_busy</a></li>
          <li class="method"><a href="GLib.Application.get_is_registered.html">get_is_registered</a></li>
          <li class="method"><a href="GLib.Application.get_is_remote.html">get_is_remote</a></li>
          <li class="method"><a href="GLib.Application.get_resource_base_path.html">get_resource_base_path</a></li>
          <li class="method"><a href="GLib.Application.hold.html">hold</a></li>
          <li class="virtual_method"><a href="GLib.Application.local_command_line.html">local_command_line</a></li>
          <li class="method"><a href="GLib.Application.mark_busy.html">mark_busy</a></li>
          <li class="method"><a href="GLib.Application.quit.html">quit</a></li>
          <li class="virtual_method"><a href="GLib.Application.quit_mainloop.html">quit_mainloop</a></li>
          <li class="method"><a href="GLib.Application.register.html">register</a></li>
          <li class="method"><a href="GLib.Application.release.html">release</a></li>
          <li class="method"><a href="GLib.Application.run.html">run</a></li>
          <li class="virtual_method"><a href="GLib.Application.run_mainloop.html">run_mainloop</a></li>
          <li class="method"><a href="GLib.Application.send_notification.html">send_notification</a></li>
          <li class="method"><span class="deprecated"><a href="GLib.Application.set_action_group.html">set_action_group</a></span></li>
          <li class="method"><a href="GLib.Application.set_application_id.html">set_application_id</a></li>
          <li class="method"><a href="GLib.Application.set_default.html">set_default</a></li>
          <li class="method"><a href="GLib.Application.set_flags.html">set_flags</a></li>
          <li class="method"><a href="GLib.Application.set_inactivity_timeout.html">set_inactivity_timeout</a></li>
          <li class="method"><a href="GLib.Application.set_resource_base_path.html">set_resource_base_path</a></li>
          <li class="method"><a href="GLib.Application.unbind_busy_property.html">unbind_busy_property</a></li>
          <li class="method"><a href="GLib.Application.unmark_busy.html">unmark_busy</a></li>
          <li class="method"><a href="GLib.Application.withdraw_notification.html">withdraw_notification</a></li>
          <li class="signal"><a href="GLib.Application.activate.html">activate</a></li>
          <li class="signal"><a href="GLib.Application.command_line.html">command_line</a></li>
          <li class="signal"><a href="GLib.Application.handle_local_options.html">handle_local_options</a></li>
          <li class="signal"><a href="GLib.Application.open.html">open</a></li>
          <li class="signal"><a href="GLib.Application.shutdown.html">shutdown</a></li>
          <li class="signal"><a href="GLib.Application.startup.html">startup</a></li>
        </ul>
      </div>
      <div class="site_content">
        <h1 class="main_title">add_main_option_entries</h1>
        <hr class="main_hr"/>
        <h2 class="main_title">Description:</h2>
        <div class="main_code_definition"><span class="main_keyword">public</span> <span class="main_keyword">void</span> <b><span class="method">add_main_option_entries</span></b> (<span class="main_type"><a href="../glib-2.0/GLib.OptionEntry.html" class="struct">OptionEntry</a></span>[] entries)
        </div>
        <div class="description">
          <p>Adds main option entries to be handled by <span class="main_keyword">this</span>.</p>
          <p>This function is comparable to <a href="../glib-2.0/GLib.OptionContext.add_main_entries.html" class="method">add_main_entries</a>.</p>
          <p>After the commandline arguments are parsed, the <a href="GLib.Application.handle_local_options.html" class="signal">handle_local_options
            </a> signal will be emitted. At this point, the application can inspect the values pointed to by <code>arg_data</code> in the given 
            <a href="../glib-2.0/GLib.OptionEntry.html" class="struct">OptionEntry</a>s.</p>
          <p>Unlike <a href="../glib-2.0/GLib.OptionContext.html" class="class">OptionContext</a>, <a href="GLib.Application.html" class="class">
              Application</a> supports giving a <span class="main_optional_parameter">null</span> <code>arg_data</code> for a non-callback 
            <a href="../glib-2.0/GLib.OptionEntry.html" class="struct">OptionEntry</a>. This results in the argument in question being packed into a 
            <a href="../glib-2.0/GLib.VariantDict.html" class="class">VariantDict</a> which is also passed to 
            <a href="GLib.Application.handle_local_options.html" class="signal">handle_local_options</a>, where it can be inspected and modified. If 
            <span class="main_optional_parameter">g_application_handles_command_line</span> is set, then the resulting dictionary is sent to the 
            primary instance, where <a href="GLib.ApplicationCommandLine.get_options_dict.html" class="method">get_options_dict</a> will return it. 
            This "packing" is done according to the type of the argument -- booleans for normal flags, strings for strings, bytestrings for filenames,
             etc. The packing only occurs if the flag is given (ie: we do not pack a "false" <a href="../glib-2.0/GLib.Variant.html" class="class">
              Variant</a> in the case that a flag is missing).</p>
          <p>In general, it is recommended that all commandline arguments are parsed locally. The options dictionary should then be used to transmit 
            the result of the parsing to the primary instance, where <a href="../glib-2.0/GLib.VariantDict.lookup.html" class="method">lookup</a> can 
            be used. For local options, it is possible to either use <code>arg_data</code> in the usual way, or to consult (and potentially remove) 
            the option from the options dictionary.</p>
          <p>This function is new in GLib 2.40. Before then, the only real choice was to send all of the commandline arguments (options and all) to 
            the primary instance for handling. <a href="GLib.Application.html" class="class">Application</a> ignored them completely on the local 
            side. Calling this function "opts in" to the new behaviour, and in particular, means that unrecognised options will be treated as errors. 
            Unrecognised options have never been ignored when <span class="main_optional_parameter">g_application_handles_command_line</span> is 
            unset.</p>
          <p>If <a href="GLib.Application.handle_local_options.html" class="signal">handle_local_options</a> needs to see the list of filenames, then 
            the use of <span class="main_optional_parameter">g_option_remaining</span> is recommended. If <code>arg_data</code> is 
            <span class="main_optional_parameter">null</span> then <span class="main_optional_parameter">g_option_remaining</span> can be used as a 
            key into the options dictionary. If you do use <span class="main_optional_parameter">g_option_remaining</span> then you need to handle 
            these arguments for yourself because once they are consumed, they will no longer be visible to the default handling (which treats them as 
            filenames to be opened).</p>
          <h2 class="main_title">Parameters:</h2>
          <table class="main_parameter_table">
            <tr>
              <td class="main_parameter_table_name">this</td>
              <td>
                <p>a <a href="GLib.Application.html" class="class">Application</a></p>
              </td>
            </tr>
            <tr>
              <td class="main_parameter_table_name">entries</td>
              <td>
                <p>a  <span class="main_optional_parameter">null</span>-terminated list of <a href="../glib-2.0/GLib.OptionEntry.html" class="struct">
                    OptionEntry</a>s</p>
              </td>
            </tr>
          </table>
        </div>
      </div>
    </div><br/>
    <div class="site_footer">Generated by <a href="http://www.valadoc.org/">Valadoc</a>
    </div>
  </body>
</html>